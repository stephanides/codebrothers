var texts=[],typingTexts=document.querySelectorAll(".typingText"),activeText=0,textTypingInterval=0,modal=document.getElementById("responseModal"),shapeBlock=document.getElementsByClassName("shape-block")[0],navLinks=document.querySelectorAll("a"),closeModalBtns=modal.querySelectorAll("button"),mobileNav=document.querySelector(".mobile"),mobileNavBtn=mobileNav.querySelector(".nav-btn button"),mobileNavLinks=mobileNav.querySelectorAll("nav ul li a"),timer=0,start=!0,stopIn=8e3,stopTime=0,stop=!1,timeTillStop=0;function changeText(e){for(var t=0;t<texts.length;t++)texts[t].classList.remove("active");texts[e].classList.add("active")}function handleLink(e){var t=0;if(e instanceof HTMLAnchorElement){for(var n=0;n<e.classList.length;n++)-1<e.classList[n].indexOf("section-")&&(t=parseInt(e.classList[n].split("-")[1]));t&&section(t)}else handleLink(e.parentElement)}function handleModalOff(){modal.classList.replace("show","hide"),setTimeout(function(){modal.classList.remove("z-modal")},300)}function startTextTyping(){typingTexts[activeText].classList.add("active"),textTypingInterval=requestAnimationFrame(function e(t){t=t,start?(stopTime=t+stopIn,3==++activeText&&(activeText=0),changeText(activeText),start=!1):stopTime<=t&&(stop=!0),timeTillStop=stopTime-t,stop?(stop=!(start=!0),timeTillStop=stopTime=0,textTypingInterval=requestAnimationFrame(e)):requestAnimationFrame(e)})}function stopTextTyping(){stop=start=!0,timeTillStop=(stopTime=timer+stopIn)-timer,cancelAnimationFrame(textTypingInterval),textTypingInterval=0,typingTexts[activeText].classList.contains("active")&&typingTexts[activeText].classList.remove("active")}function section(e){scrollIt(document.querySelector("section.section-"+e),600,"easeOutQuad")}function submitForm(e){event.preventDefault();var t=JSON.stringify({name:e.name.value,email:e.email.value,text:e.text.value}),n=new XMLHttpRequest;n.open("POST","/email/send"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){200===n.status?modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Vaša správa bola úspešne odoslaná.\nČoskoro sa Vám ozveme s odpoveďou.",modal.classList.replace("hide","show"),modal.classList.add("z-modal")):modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Došlo k chybe. Vášu správa sa nepodarilo odoslať.\nSkúste neskôr prosím.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))},n.send(t)}function scrollIt(e,a,i,l){var s={easeOutQuad:function(e){return e*(2-e)}},c=window.pageYOffset,r="now"in window.performance?performance.now():(new Date).getTime(),t=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),n=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,o="number"==typeof e?e:e.offsetTop-90,m=Math.round(t-o<n?t-n:o);if("requestAnimationFrame"in window==!1)return window.scroll(0,m),void(l&&l());!function e(){var t="now"in window.performance?performance.now():(new Date).getTime(),n=Math.min(1,(t-r)/a),o=s[i](n);window.scroll(0,Math.ceil(o*(m-c)+c)),window.pageYOffset!==m?requestAnimationFrame(e):l&&l()}()}window.onload=function(){for(var e=0;e<typingTexts.length;e++)texts.push(typingTexts[e]);0<document.getElementsByClassName("typingText").length&&startTextTyping(),[].forEach.call(navLinks,function(e){e.addEventListener("click",function(e){var t=e.target;t.closest(".mobile")&&(mobileNavBtn.classList.remove("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-left","fa-align-right"),document.querySelector(".mobile nav").classList.replace("d-block","d-none")),handleLink(t)},!1)}),[].forEach.call(closeModalBtns,function(e){e.addEventListener("click",handleModalOff,!1)}),modal.addEventListener("click",handleModalOff,!1),mobileNavBtn.addEventListener("click",function(e){mobileNavBtn.classList.contains("active")?(mobileNavBtn.classList.remove("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-left","fa-align-right"),document.querySelector(".mobile nav").classList.replace("d-block","d-none")):(mobileNavBtn.classList.add("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-right","fa-align-left"),document.querySelector(".mobile nav").classList.replace("d-none","d-block"))},!1),shapeBlock&&window.addEventListener("scroll",function(){shapeBlock.getBoundingClientRect().top<200?0<textTypingInterval&&stopTextTyping():0===textTypingInterval&&startTextTyping()},!1)};
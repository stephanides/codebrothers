var texts=[],typingTexts=document.querySelectorAll(".typingText"),activeText=0,textTypingInterval=0,modal=document.getElementById("responseModal"),shapeBlock=document.getElementsByClassName("shape-block")[0],navLinks=document.querySelectorAll("a"),closeModalBtns=modal.querySelectorAll("button"),mobileNav=document.querySelector(".mobile"),mobileNavBtn=mobileNav.querySelector(".nav-btn button"),mobileNavLinks=mobileNav.querySelectorAll("nav ul li a");function changeText(e){for(var t=0;t<texts.length;t++)texts[t].classList.remove("active");texts[e].classList.add("active")}function handleLink(e){var t=0;if(e instanceof HTMLAnchorElement){for(var a=0;a<e.classList.length;a++)-1<e.classList[a].indexOf("section-")&&(t=parseInt(e.classList[a].split("-")[1]));t&&section(t)}else handleLink(e.parentElement)}function handleModalOff(){modal.classList.replace("show","hide"),setTimeout(function(){modal.classList.remove("z-modal")},300)}function startTextTyping(){typingTexts[activeText].classList.add("active"),textTypingInterval=window.setInterval(function(){3===++activeText&&(activeText=0),changeText(activeText)},8e3)}function stopTextTyping(){window.clearInterval(textTypingInterval),textTypingInterval=0,typingTexts[activeText].classList.contains("active")&&typingTexts[activeText].classList.remove("active")}function section(e){$("html, body").animate({scrollTop:document.querySelector("section.section-"+e).offsetTop-document.getElementsByTagName("header")[0].offsetHeight},"slow")}function submitForm(e){event.preventDefault();var t={name:e.name.value,email:e.email.value,text:e.text.value};$.ajax({url:"/email/send",type:"POST",data:t,success:function(e){modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Vaša správa bola úspešne odoslaná.\nČoskoro sa Vám ozveme s odpoveďou.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))},error:function(e){modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Došlo k chybe. Vášu správa sa nepodarilo odoslať.\nSkúste neskôr prosím.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))}})}$(document).ready(function(){mixpanel.track("Page Visit");for(var e=0;e<typingTexts.length;e++)texts.push(typingTexts[e]);startTextTyping(),[].forEach.call(navLinks,function(e){e.addEventListener("click",function(e){var t=e.target;$(t).closest(".mobile")&&(mobileNavBtn.classList.remove("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-left","fa-align-right"),document.querySelector(".mobile nav").classList.replace("d-block","d-none")),handleLink(t)},!1)}),[].forEach.call(closeModalBtns,function(e){e.addEventListener("click",handleModalOff,!1)}),modal.addEventListener("click",handleModalOff,!1),mobileNavBtn.addEventListener("click",function(e){mobileNavBtn.classList.contains("active")?(mobileNavBtn.classList.remove("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-left","fa-align-right"),document.querySelector(".mobile nav").classList.replace("d-block","d-none")):(mobileNavBtn.classList.add("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-right","fa-align-left"),document.querySelector(".mobile nav").classList.replace("d-none","d-block"))},!1),window.addEventListener("scroll",function(){shapeBlock.getBoundingClientRect().top<200?0<textTypingInterval&&stopTextTyping():0===textTypingInterval&&startTextTyping()},!1)});
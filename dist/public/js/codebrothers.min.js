var texts=[],typingTexts=document.querySelectorAll(".typingText"),activeText=0,textTypingInterval=0,modal=document.getElementById("responseModal"),shapeBlock=document.getElementsByClassName("shape-block")[0],navLinks=document.querySelectorAll("a"),closeModalBtns=modal.querySelectorAll("button"),mobileNav=document.querySelector(".mobile"),mobileNavBtn=mobileNav.querySelector(".nav-btn button"),mobileNavLinks=mobileNav.querySelectorAll("nav ul li a");function changeText(e){for(var n=0;n<texts.length;n++)texts[n].classList.remove("active");texts[e].classList.add("active")}function handleLink(e){var n=0;if(e instanceof HTMLAnchorElement){for(var t=0;t<e.classList.length;t++)-1<e.classList[t].indexOf("section-")&&(n=parseInt(e.classList[t].split("-")[1]));n&&section(n)}else handleLink(e.parentElement)}function handleModalOff(){modal.classList.replace("show","hide"),window.requestTimeout(function(){modal.classList.remove("z-modal")},300)}function startTextTyping(){typingTexts[activeText].classList.add("active"),textTypingInterval=window.requestInterval(function(){3===++activeText&&(activeText=0),changeText(activeText)},8e3)}function stopTextTyping(){window.clearRequestInterval(textTypingInterval),textTypingInterval=0,typingTexts[activeText].classList.contains("active")&&typingTexts[activeText].classList.remove("active")}function section(e){$("html, body").animate({scrollTop:document.querySelector("section.section-"+e).offsetTop-document.getElementsByTagName("header")[0].offsetHeight},"slow")}function submitForm(e){event.preventDefault();var n={name:e.name.value,email:e.email.value,text:e.text.value};$.ajax({url:"/email/send",type:"POST",data:n,success:function(e){modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Vaša správa bola úspešne odoslaná.\nČoskoro sa Vám ozveme s odpoveďou.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))},error:function(e){modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Došlo k chybe. Vášu správa sa nepodarilo odoslať.\nSkúste neskôr prosím.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))}})}window.onload=function(){mixpanel.track("Page Visit");for(var e=0;e<typingTexts.length;e++)texts.push(typingTexts[e]);0<document.getElementsByClassName("typingText").length&&startTextTyping(),[].forEach.call(navLinks,function(e){e.addEventListener("click",function(e){var n=e.target;$(n).closest(".mobile")&&(mobileNavBtn.classList.remove("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-left","fa-align-right"),document.querySelector(".mobile nav").classList.replace("d-block","d-none")),handleLink(n)},!1)}),[].forEach.call(closeModalBtns,function(e){e.addEventListener("click",handleModalOff,!1)}),modal.addEventListener("click",handleModalOff,!1),mobileNavBtn.addEventListener("click",function(e){mobileNavBtn.classList.contains("active")?(mobileNavBtn.classList.remove("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-left","fa-align-right"),document.querySelector(".mobile nav").classList.replace("d-block","d-none")):(mobileNavBtn.classList.add("active"),mobileNavBtn.querySelector("i").classList.replace("fa-align-right","fa-align-left"),document.querySelector(".mobile nav").classList.replace("d-none","d-block"))},!1),shapeBlock&&window.addEventListener("scroll",function(){shapeBlock.getBoundingClientRect().top<200?0<textTypingInterval&&stopTextTyping():0===textTypingInterval&&startTextTyping()},!1)},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,n){window.setTimeout(e,1e3/60)},window.requestInterval=function(t,a){if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setInterval(t,a);var i=(new Date).getTime(),o=new Object;return o.value=requestAnimFrame(function e(){var n=(new Date).getTime();a<=n-i&&(t.call(),i=(new Date).getTime()),o.value=requestAnimFrame(e)}),o},window.clearRequestInterval=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearInterval(e)},window.requestTimeout=function(t,a){if(!(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame&&window.mozCancelRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame))return window.setTimeout(t,a);var i=(new Date).getTime(),o=new Object;return o.value=requestAnimFrame(function e(){var n=(new Date).getTime();a<=n-i?t.call():o.value=requestAnimFrame(e)}),o},window.clearRequestTimeout=function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(e.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(e.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(e.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(e.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(e.value):clearTimeout(e)};
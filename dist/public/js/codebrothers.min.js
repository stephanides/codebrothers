var texts=[],activeText=1,modal=document.getElementById("responseModal"),textTypingInterval=0,shapeBlock=document.getElementsByClassName("shape-block")[0];function changeText(e){for(var t=0;t<texts.length;t++)texts[t].classList.remove("active");texts[e].classList.add("active")}function handleLink(e){var t=0;if(e instanceof HTMLAnchorElement){for(var a=0;a<e.classList.length;a++)-1<e.classList[a].indexOf("section-")&&(t=parseInt(e.classList[a].split("-")[1]));t&&section(t)}else handleLink(e.parentElement)}function handleModalOff(){modal.classList.replace("show","hide"),setTimeout(function(){modal.classList.remove("z-modal")},300)}function startTextTyping(){textTypingInterval=window.setInterval(function(){console.log("INTERVAL STARTED"),changeText(activeText),3===++activeText&&(activeText=0)},8e3)}function section(e){$("html, body").animate({scrollTop:document.querySelector("section.section-"+e).offsetTop-document.getElementsByTagName("header")[0].offsetHeight},"slow")}function submitForm(e){event.preventDefault();var t={name:e.name.value,email:e.email.value,text:e.text.value};$.ajax({url:"/email/send",type:"POST",data:t,success:function(e){modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Vaša správa bola úspešne odoslaná.\nČoskoro sa Vám ozveme s odpoveďou.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))},error:function(e){modal&&!modal.classList.contains("show")&&(modal.querySelector("p").innerHTML="Došlo k chybe. Vášu správa sa nepodarilo odoslať.\nSkúste neskôr prosím.",modal.classList.replace("hide","show"),modal.classList.add("z-modal"))}})}$(document).ready(function(){var e=document.querySelectorAll(".typingText"),t=document.querySelectorAll("a"),a=modal.querySelectorAll("button");$(".lazy").lazy();for(var n=0;n<e.length;n++)texts.push(e[n]);[].forEach.call(t,function(e){e.addEventListener("click",function(e){handleLink(e.target)},!1)}),[].forEach.call(a,function(e){e.addEventListener("click",handleModalOff,!1)}),modal.addEventListener("click",handleModalOff,!1),window.addEventListener("scroll",function(){shapeBlock.getBoundingClientRect().top<200?0<textTypingInterval&&(window.clearInterval(textTypingInterval),textTypingInterval=0):0===textTypingInterval&&startTextTyping()},!1),startTextTyping()});